--! THIS SCRIPT SETS UP A TIMER THAT CAN BE DISPLAYED AND LOGS THE POSITION OF YOUR HUMANOIDROOTPART.
--! PRESS THE KEY "Q" WILL TOGGLED THE TIMER AND OTHER FUNCTION ON & OFF.

ShowTimer = ShowTimer or true;
RootPartLoggingMode = RootPartLoggingMode or "save";

local RunService = game:GetService("RunService");
local UserInputService = game:GetService("UserInputService");
local Players = game:GetService("Players");
local Player = Players.LocalPlayer;

local Form =  string.format;

local function FormTime(Seconds)
	local Hours, Minutes, Seconds, Miliseconds = math.floor(Seconds/3600), math.floor((Seconds%3600)/60), Seconds%60, (os.clock()%1)*1000;
	return string.format("%02d:%02d:%02d:%03d", Hours, Minutes, Seconds, Miliseconds);
end

local Timer = nil;
if ShowTimer == true then
	local Screen = game:GetService("CoreGui"):FindFirstChild("Timer067192522") or Instance.new("ScreenGui", game:GetService("CoreGui"));
	Screen.Name = "Timer067192522";
	Timer = Screen:FindFirstChild("TextLabel");
	if Timer == nil then
		Timer = Instance.new("TextLabel", Screen);
		Timer.Position = UDim2.new(0.5, -50, 0, 40);
		Timer.Size = UDim2.new(0, 100, 0, 20);
		Timer.BackgroundTransparency = 1;
		Timer.TextColor3 = Color3.new(1, 1, 1);
		Timer.TextStrokeTransparency = 0;
		Timer.Font = Enum.Font.SourceSans;
		Timer.TextSize = 30;
		Timer.Text = "00:00:00:000";
	end;
end;

local TimerCounting = false;
local TimeStart = os.time();
local RootPartLoggingNum = 1;

if RootPartLoggingMode == "save" then
	shared.TimerRootPartLogs = {};
end;

UserInputService.InputBegan:Connect(function(Input, GameProcessed)
	if GameProcessed == false and Input.KeyCode == Enum.KeyCode.Q then
		if ShowTimer == true then
			if TimerCounting == false then
				TimeStart = os.time();
				if RootPartLoggingMode == "save" then
					shared.TimerRootPartLogs = {};
					RootPartLoggingNum = 1;
				end;
			end;
			TimerCounting = not TimerCounting;
		end;
	end;
end);
if RootPartLoggingMode == "save" or RootPartLoggingMode == "load" then
	local Service = RunService.Heartbeat:Connect(function()
		if RootPartLoggingMode == "save" then
			shared.TimerRootPartLogs[RootPartLoggingNum] = Player.Character.HumanoidRootPart.CFrame;
			RootPartLoggingNum += 1;
		elseif RootPartLoggingMode == "load" then
			TimerCounting = true;
			if #shared.TimerRootPartLogs > 0 then
				Player.Character.HumanoidRootPart.CFrame = shared.TimerRootPartLogs[RootPartLoggingNum]
				RootPartLoggingNum += 1;
			end;
		end;
	end);
end;
while wait() do
	if TimerCounting == true then
		Timer.Text = FormTime(os.time()-TimeStart);
	end;
end;
