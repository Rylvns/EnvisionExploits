return function(String)
	local Form = string.format;
	local function Token(Layout, Library)
		local UUID = "";
		local Library = string.split(Library or "Il", "");
		for Int, String in pairs(Layout:split("", "")) do
			if String == "#" then
				String = Library[math.random(1, #Library)];
			end;
			UUID = UUID..String;
		end;
		return UUID;
	end;
	local function MakeVariableName(Number)
		local String = "";
		for Int = 0, 5-string.len(tostring(Number)), 1 do
			String = String..Token("#");
		end;
		return Form("%s%s", String, Number);
	end;
	local function Encrypt(String)
		local Key = Form([[local %s, Encoded_by_Quex = "Rylen#4866", %s;
		getfenv()]], Token("######"), Token("######"));
		local Encrypted = ""
		for Int, Value in pairs(string.split(String, "")) do
			Encrypted = Encrypted..Form("[\"%s\"]=\"%s\" ", MakeVariableName(Int), Token(Form("######|%s", MakeVariableName((function(String)
				for Letter, Value in pairs({["\n"] = 162, [" "] = 163, ["a"] = 164, ["b"] = 165, ["c"] = 166, ["d"] = 167, ["e"] = 168, ["f"] = 169, ["g"] = 170, ["h"] = 171, ["i"] = 172, ["j"] = 173, ["k"] = 174, ["l"] = 175, ["m"] = 176, ["n"] = 177, ["o"] = 178, ["p"] = 179, ["q"] = 180, ["r"] = 181, ["s"] = 182, ["t"] = 183, ["u"] = 184, ["v"] = 185, ["w"] = 186, ["x"] = 187, ["y"] = 188, ["z"] = 189, ["A"] = 190, ["B"] = 191, ["C"] = 192, ["D"] = 193, ["E"] = 194, ["F"] = 195, ["G"] = 196, ["H"] = 197, ["I"] = 198, ["J"] = 199, ["K"] = 200, ["L"] = 201, ["M"] = 202, ["N"] = 203, ["O"] = 204, ["P"] = 205, ["Q"] = 206, ["R"] = 207, ["S"] = 208, ["T"] = 209, ["U"] = 210, ["V"] = 211, ["W"] = 212, ["X"] = 213, ["Y"] = 214, ["Z"] = 215, ["0"] = 216, ["1"] = 217, ["2"] = 218, ["3"] = 219, ["4"] = 220, ["5"] = 221, ["6"] = 222, ["7"] = 223, ["8"] = 224, ["9"] = 225, ["!"] = 226, ["@"] = 227, ["#"] = 228, ["$"] = 229, ["%"] = 230, ["^"] = 231, ["&"] = 232, ["*"] = 233, ["("] = 234, [")"] = 235, ["-"] = 236, ["_"] = 237, ["="] = 238, ["+"] = 239, ["["] = 240, ["{"] = 241, ["]"] = 242, ["}"] = 243, ["\\"] = 244, ["|"] = 245, [";"] = 246, [":"] = 247, ["\""] = 248, ["\'"] = 249, [","] = 250, ["<"] = 251, ["."] = 252, [">"] = 253, ["/"] = 254, ["?"] = 255}) do
					if Letter == String then
						String = Value;
					end;
				end;
				return String;
			end)(Value)))));
		end;
		Encrypted = string.gsub(string.gsub(Encrypted, " ", ", "), "=", " = ");

		for Int = 0, 49, 1 do
			Key ..= [[["getfenv"]()]];
		end;
		Key ..= Form([[
		["pcall"](function()
			(function(String)
				if string.sub(String, 1, 5) == "\81\85\69\88\95" and #string.split(String, "") == 105 then
					return {%s};
				end;
			end)("%s");
		end);
		]], Token(Form("QUEX_%s", string.sub(Encrypted, 1, string.len(Encrypted)-2), (function(Number)
				local Result = "";
				for Int = 0, Number, 1 do
					Result = Result.."#";
				end;
				return Result;
			end)(100)), "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"));
		return Key;
	end;
	return Encrypt(String);
end;
